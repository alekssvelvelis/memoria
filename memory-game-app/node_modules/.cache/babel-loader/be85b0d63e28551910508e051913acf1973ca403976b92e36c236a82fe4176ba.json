{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileGameHistory(){const[gameHistory,setGameHistory]=useState([]);const isLoggedInObject=localStorage.getItem('token');const isLoggedIn=isLoggedInObject?JSON.parse(isLoggedInObject).value:null;useEffect(()=>{const handleGetGameHistory=async()=>{try{const response=await fetch('http://localhost/api/getUserGames',{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(isLoggedIn)}});if(response.ok){const data=await response.json();if(JSON.stringify(data.games)!==JSON.stringify(gameHistory)){setGameHistory(data.games);console.log(data.games);}}else{const errorData=await response.json();console.error('Error fetching user info:',errorData);}}catch(error){console.error('Error fetching user info:',error);}};handleGetGameHistory();},[isLoggedIn,gameHistory]);const formatTime=timeInSeconds=>{const minutes=Math.floor(timeInSeconds/60);const seconds=timeInSeconds%60;return\"\".concat(minutes,\":\").concat(seconds.toLocaleString('en-US',{minimumIntegerDigits:2}));};function getGameOutcome(outcome){switch(outcome){case 0:return'Loss';case 1:return'Win';default:break;}}return/*#__PURE__*/_jsx(_Fragment,{children:gameHistory.slice().reverse().map((info,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[95%] ml-0 max-[426px]:ml-5 flex justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4\",children:\"Game #\".concat(gameHistory.length-index)}),/*#__PURE__*/_jsxs(\"h1\",{className:\"uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4\",children:[info.theme.theme,\" \",getGameOutcome(info.game_outcome)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[95%] flex flex-col sm:flex-row border border-neutral-300 rounded-lg m-2 sm:ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[30%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest ml-2\",children:\"Difficulty\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2 ml-2\",children:[info.difficulty,\"x\",info.difficulty]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center items-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"PAIRS\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2\",children:[info.pair_count,\"/\",Math.floor(info.difficulty*info.difficulty/3)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Turns\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:info.turn_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:formatTime(info.time_left)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[30%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Reward\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:[info.money_earned,\" \\uD83D\\uDCB8\"]})]})]})]},info.id))});}export default ProfileGameHistory;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileGameHistory","gameHistory","setGameHistory","isLoggedInObject","localStorage","getItem","isLoggedIn","JSON","parse","value","handleGetGameHistory","response","fetch","method","headers","concat","ok","data","json","stringify","games","console","log","errorData","error","formatTime","timeInSeconds","minutes","Math","floor","seconds","toLocaleString","minimumIntegerDigits","getGameOutcome","outcome","children","slice","reverse","map","info","index","className","length","theme","game_outcome","difficulty","pair_count","turn_count","time_left","money_earned","id"],"sources":["/Users/alekssvelvelis/Desktop/memory-game/src/components/ProfileGameHistory.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction ProfileGameHistory(){\n    const [gameHistory, setGameHistory] = useState([]);\n    const isLoggedInObject = localStorage.getItem('token');\n    const isLoggedIn = isLoggedInObject ? JSON.parse(isLoggedInObject).value : null;\n\n    useEffect(() => {\n        const handleGetGameHistory = async () => {\n            try {\n                const response = await fetch('http://localhost/api/getUserGames', {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${isLoggedIn}`,\n                    },\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (JSON.stringify(data.games) !== JSON.stringify(gameHistory)) {\n                        setGameHistory(data.games);\n                        console.log(data.games);\n                    }\n                } else {\n                    const errorData = await response.json();\n                    console.error('Error fetching user info:', errorData);\n                }\n            } catch (error) {\n                console.error('Error fetching user info:', error);\n            }\n        };\n\n        handleGetGameHistory();\n    }, [isLoggedIn, gameHistory]);\n\n    const formatTime = (timeInSeconds) => {\n        const minutes = Math.floor(timeInSeconds / 60);\n        const seconds = timeInSeconds % 60;\n        return `${minutes}:${seconds.toLocaleString('en-US', { minimumIntegerDigits: 2 })}`;\n    };\n\n    function getGameOutcome(outcome) {\n        switch(outcome){\n          case 0:\n            return ('Loss');\n          case 1:\n            return ('Win');\n          default:\n            break;\n        }\n    }\n\n    return(\n        <>\n        {gameHistory.slice().reverse().map((info, index) => (  \n            <div className='w-full flex flex-col items-center' key={info.id}>\n                <div className='w-[95%] ml-0 max-[426px]:ml-5 flex justify-between'>\n                    <h1 className='uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4'>{`Game #${gameHistory.length - index}`}</h1> \n                    <h1 className='uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4'>{info.theme.theme} {getGameOutcome(info.game_outcome)}</h1>    \n                </div>\n                <div className='w-[95%] flex flex-col sm:flex-row border border-neutral-300 rounded-lg m-2 sm:ml-4'>\n                    <div className='w-full items-center sm:w-[30%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest ml-2'>Difficulty</h1>\n                        <p className='font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2 ml-2'>{info.difficulty}x{info.difficulty}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center items-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>PAIRS</h1>\n                        <p className='font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2'>{info.pair_count}/{Math.floor(info.difficulty*info.difficulty/3)}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Turns</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{info.turn_count}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Time</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{formatTime(info.time_left)}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[30%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Reward</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{info.money_earned} ðŸ’¸</p>\n                    </div>\n                </div>\n            </div>\n        ))}\n        </>\n    );\n}\n\nexport default ProfileGameHistory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}