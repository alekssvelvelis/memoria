{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileGameHistory(){const[gameHistory,setGameHistory]=useState([]);const isLoggedInObject=localStorage.getItem('token');const isLoggedIn=isLoggedInObject?JSON.parse(isLoggedInObject).value:null;useEffect(()=>{const handleGetGameHistory=async()=>{try{const response=await fetch('http://localhost/api/getUserGames',{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(isLoggedIn)}});if(response.ok){const data=await response.json();if(JSON.stringify(data.games)!==JSON.stringify(gameHistory)){setGameHistory(data.games);}}else{const errorData=await response.json();console.error('Error fetching user info:',errorData);}}catch(error){console.error('Error fetching user info:',error);}};handleGetGameHistory();},[isLoggedIn,gameHistory]);const formatTime=timeInSeconds=>{const minutes=Math.floor(timeInSeconds/60);const seconds=timeInSeconds%60;return\"\".concat(minutes,\":\").concat(seconds.toLocaleString('en-US',{minimumIntegerDigits:2}));};function getGameOutcome(outcome){switch(outcome){case 0:return'Loss';case 1:return'Win';default:break;}}return/*#__PURE__*/_jsxs(_Fragment,{children:[gameHistory.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col text-center items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase font-light tracking-widest text-2xl mt-2\",children:\"You've played no games!\"}),/*#__PURE__*/_jsx(Link,{to:\"/play\",className:\" w-fit text-xl my-2 hover:bg-white hover:text-black duration-500 transition-bg cursor-pointer rounded-sm uppercase tracking-wide\",children:\"Click here to start playing\"})]}):'',gameHistory.slice().reverse().map((info,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[95%] ml-0 max-[426px]:ml-5 flex justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4\",children:\"Game #\".concat(gameHistory.length-index)}),/*#__PURE__*/_jsxs(\"h1\",{className:\"uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4\",children:[info.theme.theme,\" \",getGameOutcome(info.game_outcome)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[95%] flex flex-col sm:flex-row border border-neutral-300 rounded-lg m-2 sm:ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[30%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest ml-2\",children:\"Difficulty\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2 ml-2\",children:[info.difficulty,\"x\",info.difficulty]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center items-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"PAIRS\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2\",children:[info.pair_count,\"/\",Math.floor(info.difficulty*info.difficulty/3)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Turns\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:info.turn_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[20%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:formatTime(info.time_left)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center sm:w-[30%] flex justify-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-2xl tracking-widest\",children:\"Reward\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:[info.money_earned,\" \\uD83D\\uDCB8\"]})]})]})]},info.id))]});}export default ProfileGameHistory;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileGameHistory","gameHistory","setGameHistory","isLoggedInObject","localStorage","getItem","isLoggedIn","JSON","parse","value","handleGetGameHistory","response","fetch","method","headers","concat","ok","data","json","stringify","games","errorData","console","error","formatTime","timeInSeconds","minutes","Math","floor","seconds","toLocaleString","minimumIntegerDigits","getGameOutcome","outcome","children","length","className","to","slice","reverse","map","info","index","theme","game_outcome","difficulty","pair_count","turn_count","time_left","money_earned","id"],"sources":["/Users/alekssvelvelis/Desktop/memory-game/src/components/Profile/ProfileGameHistory.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nfunction ProfileGameHistory(){\n    const [gameHistory, setGameHistory] = useState([]);\n    const isLoggedInObject = localStorage.getItem('token');\n    const isLoggedIn = isLoggedInObject ? JSON.parse(isLoggedInObject).value : null;\n\n    useEffect(() => {\n        const handleGetGameHistory = async () => {\n            try {\n                const response = await fetch('http://localhost/api/getUserGames', {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${isLoggedIn}`,\n                    },\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (JSON.stringify(data.games) !== JSON.stringify(gameHistory)) {\n                        setGameHistory(data.games);\n                    }\n                } else {\n                    const errorData = await response.json();\n                    console.error('Error fetching user info:', errorData);\n                }\n            } catch (error) {\n                console.error('Error fetching user info:', error);\n            }\n        };\n\n        handleGetGameHistory();\n    }, [isLoggedIn, gameHistory]);\n\n    const formatTime = (timeInSeconds) => {\n        const minutes = Math.floor(timeInSeconds / 60);\n        const seconds = timeInSeconds % 60;\n        return `${minutes}:${seconds.toLocaleString('en-US', { minimumIntegerDigits: 2 })}`;\n    };\n\n    function getGameOutcome(outcome) {\n        switch(outcome){\n          case 0:\n            return ('Loss');\n          case 1:\n            return ('Win');\n          default:\n            break;\n        }\n    }\n\n    return(\n        <>\n        {gameHistory.length === 0 ? \n        <div className='flex flex-col text-center items-center justify-center'>\n        <h1 className='uppercase font-light tracking-widest text-2xl mt-2'>You've played no games!</h1>\n        <Link to=\"/play\" className=' w-fit text-xl my-2 hover:bg-white hover:text-black duration-500 transition-bg cursor-pointer rounded-sm uppercase tracking-wide'>Click here to start playing</Link>\n        </div>\n        : ''}\n        {gameHistory.slice().reverse().map((info, index) => (  \n            <div className='w-full flex flex-col items-center' key={info.id}>\n                <div className='w-[95%] ml-0 max-[426px]:ml-5 flex justify-between'>\n                    <h1 className='uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4'>{`Game #${gameHistory.length - index}`}</h1> \n                    <h1 className='uppercase text-xl tracking-widest font-light text-center sm:text-start sm:ml-6 mt-4'>{info.theme.theme} {getGameOutcome(info.game_outcome)}</h1>    \n                </div>\n                <div className='w-[95%] flex flex-col sm:flex-row border border-neutral-300 rounded-lg m-2 sm:ml-4'>\n                    <div className='w-full items-center sm:w-[30%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest ml-2'>Difficulty</h1>\n                        <p className='font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2 ml-2'>{info.difficulty}x{info.difficulty}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center items-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>PAIRS</h1>\n                        <p className='font-light text-lg text-[rgb(175,169,158)] mb-4 mt-2'>{info.pair_count}/{Math.floor(info.difficulty*info.difficulty/3)}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Turns</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{info.turn_count}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[20%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Time</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{formatTime(info.time_left)}</p>\n                    </div>\n                    <div className='w-full items-center sm:w-[30%] flex justify-center flex-col'>\n                        <h1 className='uppercase text-2xl tracking-widest'>Reward</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>{info.money_earned} 💸</p>\n                    </div>\n                </div>\n            </div>\n        ))}\n        </>\n    );\n}\n\nexport default ProfileGameHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}