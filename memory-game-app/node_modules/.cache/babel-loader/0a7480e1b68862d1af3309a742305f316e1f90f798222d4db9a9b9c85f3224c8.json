{"ast":null,"code":"import React,{useState,useEffect}from'react';import VantaBackground from'../Backgrounds/VantaBackground';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function PurchaseBackground(_ref){let{onClose,backgroundName,backgroundPrice,backgroundDescription,onHandlePurchase,updateUserBackgrounds}=_ref;const[error,setError]=useState('');const[success,setSuccess]=useState('');const isLoggedInObject=localStorage.getItem('token');const isLoggedIn=isLoggedInObject?JSON.parse(isLoggedInObject).value:null;const purchaseBackground=async e=>{e.preventDefault();try{const response=await fetch('http://localhost/api/purchaseBackground',{method:'POST',headers:{\"Content-Type\":\"application/json\",'Authorization':\"Bearer \".concat(isLoggedIn)},body:JSON.stringify({name:backgroundName})});if(response.ok){const data=await response.json();setSuccess(data.message);setError('');onHandlePurchase(data.newMoney);updateUserBackgrounds();}else{const errorData=await response.json();// console.error(`Error ${response.status}:`, errorData);\nsetError(errorData.error);setSuccess('');}}catch(error){console.error('Error fetching user info:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-screen h-screen fixed top-0 left-0 bg-black bg-opacity-40 z-40 transition-opacity duration-300 opacity-100\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"border mt-4 max-[425px]:mt-8 fixed rounded-lg z-[45] transition-all transform border-neutral-200 bg-[#121212] w-1/2 max-[425px]:w-[300px] h-[575px] flex text-white text-xl -translate-y-1/2 -translate-x-1/2 top-1/2 left-1/2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute right-2 top-2 z-[5] text-3xl text-white cursor-pointer transform transition-all duration-200 hover:text-gray-300\",children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full relative flex flex-col justify-center items-center m-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full flex flex-col justify-center items-center m-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(VantaBackground,{effect:backgroundName,classes:\"w-[100%] h-[75%] absolute top-10\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase tracking-widest text-3xl font-light absolute top-0 z-[1]\",children:backgroundName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full z-[1] my-auto flex flex-col justify-center items-center text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-light tracking-wide text-2xl my-1\",children:backgroundDescription}),/*#__PURE__*/_jsxs(\"h1\",{className:\"font-light tracking-widest text-2xl my-1\",children:[backgroundPrice,\" \\uD83D\\uDCB8\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-fit z-[10] mb-4 text-xl hover:bg-white hover:text-black duration-500 transition-bg cursor-pointer p-1 rounded-sm uppercase tracking-widest\",onClick:purchaseBackground,children:\"Purchase\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xl font-light tracking-wide mb-4\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500 text-xl font-light tracking-wide mb-4\",children:success})]})]})]})]});}export default PurchaseBackground;","map":{"version":3,"names":["React","useState","useEffect","VantaBackground","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PurchaseBackground","_ref","onClose","backgroundName","backgroundPrice","backgroundDescription","onHandlePurchase","updateUserBackgrounds","error","setError","success","setSuccess","isLoggedInObject","localStorage","getItem","isLoggedIn","JSON","parse","value","purchaseBackground","e","preventDefault","response","fetch","method","headers","concat","body","stringify","name","ok","data","json","message","newMoney","errorData","console","children","className","onClick","effect","classes"],"sources":["/Users/alekssvelvelis/Desktop/memory-game/src/components/Profile/PurchaseBackground.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport VantaBackground from '../Backgrounds/VantaBackground';\nfunction PurchaseBackground({ onClose, backgroundName, backgroundPrice, backgroundDescription, onHandlePurchase, updateUserBackgrounds }) {\n    const [error,  setError] = useState('');\n    const [success,  setSuccess] = useState('');\n    const isLoggedInObject = localStorage.getItem('token');\n    const isLoggedIn = isLoggedInObject ? JSON.parse(isLoggedInObject).value : null;\n\n    const purchaseBackground = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await fetch('http://localhost/api/purchaseBackground', {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    'Authorization': `Bearer ${isLoggedIn}`\n                },\n                body: JSON.stringify({ name: backgroundName }),\n            });\n            if (response.ok) {\n                const data = await response.json();\n                setSuccess(data.message);\n                setError('');\n                onHandlePurchase(data.newMoney);\n                updateUserBackgrounds();\n            } else {\n                const errorData = await response.json();\n                // console.error(`Error ${response.status}:`, errorData);\n                setError(errorData.error);\n                setSuccess('');\n\n            }\n        } catch (error) {\n            console.error('Error fetching user info:', error);\n        }\n    };\n\n    return(\n        <>\n            <div className={`w-screen h-screen fixed top-0 left-0 bg-black bg-opacity-40 z-40 transition-opacity duration-300 opacity-100`} onClick={onClose}></div>\n            <div className='border mt-4 max-[425px]:mt-8 fixed rounded-lg z-[45] transition-all transform border-neutral-200 bg-[#121212] w-1/2 max-[425px]:w-[300px] h-[575px] flex text-white text-xl -translate-y-1/2 -translate-x-1/2 top-1/2 left-1/2'>\n            <button\n                onClick={onClose}\n                className='absolute right-2 top-2 z-[5] text-3xl text-white cursor-pointer transform transition-all duration-200 hover:text-gray-300'\n            >\n                X\n            </button>\n                <div className='w-full h-full relative flex flex-col justify-center items-center m-2'>\n                    <div className='w-full h-full flex flex-col justify-center items-center m-2'>\n                        <div className='w-full'><VantaBackground effect={backgroundName} classes={`w-[100%] h-[75%] absolute top-10`}/></div>\n                        <h1 className='uppercase tracking-widest text-3xl font-light absolute top-0 z-[1]'>{backgroundName}</h1>\n                    </div>\n                    <div className='w-full z-[1] my-auto flex flex-col justify-center items-center text-center'>\n                        <h1 className='font-light tracking-wide text-2xl my-1'>{backgroundDescription}</h1>\n                        <h1 className='font-light tracking-widest text-2xl my-1'>{backgroundPrice} ðŸ’¸</h1>\n                        <button className='w-fit z-[10] mb-4 text-xl hover:bg-white hover:text-black duration-500 transition-bg cursor-pointer p-1 rounded-sm uppercase tracking-widest' onClick={purchaseBackground}>Purchase</button>\n                        {error && <p className='text-red-500 text-xl font-light tracking-wide mb-4'>{error}</p>}\n                        {success && <p className='text-green-500 text-xl font-light tracking-wide mb-4'>{success}</p>}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default PurchaseBackground;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}