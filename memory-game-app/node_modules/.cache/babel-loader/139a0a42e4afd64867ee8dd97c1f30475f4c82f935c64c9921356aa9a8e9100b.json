{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./Header';import ProfileUserForm from'./ProfileUserForm';import ProfileAchievements from'./ProfileAchievements';import ProfileGameHistory from'./ProfileGameHistory';import ProfileBackgroundSelection from'./ProfileBackgroundSelection';import GoogleUserFirstTime from'./GoogleUserFirstTime';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileInformation(){const isLoggedInObject=localStorage.getItem('token');const isLoggedIn=isLoggedInObject?JSON.parse(isLoggedInObject).value:null;const[userData,setUserData]=useState({});const[currentName,setCurrentName]=useState('');const[money,setMoney]=useState(0);useEffect(()=>{const getUserMoney=async()=>{try{const response=await fetch('http://localhost/api/getUserMoney',{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(isLoggedIn)}});if(response.ok){const data=await response.json();setMoney(data.money);}else{const errorData=await response.json();console.error('Error fetching user info:',errorData);}}catch(error){console.error('Error fetching user info:',error);}};getUserMoney();},[isLoggedIn]);const handleUserDataChange=(newUserData,newCurrentName)=>{setUserData(newUserData);setCurrentName(newCurrentName);};const[isGoogleModalOpen,setGoogleModalOpen]=useState(false);useEffect(()=>{if(userData.username===null&&userData.google_id&&userData.google_email){setGoogleModalOpen(true);}},[userData]);const toggleGoogleModal=()=>{setGoogleModalOpen(!isGoogleModalOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-y-scroll min-h-screen bg-[rgb(18,18,18,0.9)] flex justify-center w-full text-white flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[10vh]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-full w-[100%] flex flex-col justify-center items-center my-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[85%] flex max-[425px]:flex-col sm:ml-8 text-center items-center justify-center sm:justify-start\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"uppercase text-2xl sm:text-4xl tracking-widest\",children:[\"Welcome, \",currentName,\"!\"]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"uppercase text-2xl sm:text-4xl tracking-widest ml-auto mr-8 max-[425px]:hidden\",children:[money,\" \\uD83D\\uDCB8\"]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"uppercase text-2xl sm:text-4xl tracking-widest hidden max-[425px]:flex mt-4\",children:[\"YOU have: \",money,\" \\uD83D\\uDCB8\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-[rgb(44,44,44,0.8)] w-[85%] min-h-[90%] flex flex-col m-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col sm:flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:w-1/2 w-full h-full flex flex-col items-center justify-center m-2 ml-0\",children:/*#__PURE__*/_jsx(ProfileUserForm,{onUserDataChange:handleUserDataChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:w-1/2 w-full flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col justify-around items-center\",children:[/*#__PURE__*/_jsx(ProfileAchievements,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[85%] sm:min-h-[45%] rounded-xl flex flex-col items-scenter bg-[rgb(26,26,26,0.9)] my-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl sm:text-3xl tracking-widest font-light uppercase text-center my-2\",children:\"YOUR COSMETICS:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl tracking-widest font-light uppercase text-center text-[rgb(175,169,158)]\",children:\"Memoria completion: 0%\"}),/*#__PURE__*/_jsx(ProfileBackgroundSelection,{})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-[92%] h-full flex flex-col items-center justify-center m-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[100%] min-h-[90%] mb-4 rounded-xl flex flex-col items-center bg-[rgb(26,26,26,0.9)]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[40%] flex justify-center items-center text-center m-2\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"uppercase text-3xl tracking-widest my-2\",children:\"YOUR GAME HISTORY:\"})}),/*#__PURE__*/_jsx(ProfileGameHistory,{})]})})})]}),isGoogleModalOpen&&/*#__PURE__*/_jsx(GoogleUserFirstTime,{onClose:toggleGoogleModal,email:userData.google_email,onUsernameChosen:username=>{setCurrentName(username);}})]})]})]});}export default ProfileInformation;","map":{"version":3,"names":["React","useState","useEffect","Header","ProfileUserForm","ProfileAchievements","ProfileGameHistory","ProfileBackgroundSelection","GoogleUserFirstTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileInformation","isLoggedInObject","localStorage","getItem","isLoggedIn","JSON","parse","value","userData","setUserData","currentName","setCurrentName","money","setMoney","getUserMoney","response","fetch","method","headers","concat","ok","data","json","errorData","console","error","handleUserDataChange","newUserData","newCurrentName","isGoogleModalOpen","setGoogleModalOpen","username","google_id","google_email","toggleGoogleModal","children","className","onUserDataChange","onClose","email","onUsernameChosen"],"sources":["/Users/alekssvelvelis/Desktop/memory-game/src/components/ProfileInformation.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport ProfileUserForm from './ProfileUserForm';\nimport ProfileAchievements from './ProfileAchievements';\nimport ProfileGameHistory from './ProfileGameHistory';\nimport ProfileBackgroundSelection from './ProfileBackgroundSelection';\nimport GoogleUserFirstTime from './GoogleUserFirstTime';\nfunction ProfileInformation(){\n\n    const isLoggedInObject = localStorage.getItem('token');\n    const isLoggedIn = isLoggedInObject ? JSON.parse(isLoggedInObject).value : null;\n\n    const [userData, setUserData] = useState({});\n    const [currentName, setCurrentName] = useState('');\n    const [money, setMoney] = useState(0);\n\n    useEffect(() => {\n        const getUserMoney = async () => {\n            try {\n                const response = await fetch('http://localhost/api/getUserMoney', {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${isLoggedIn}`,\n                    },\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    setMoney(data.money);\n                } else {\n                    const errorData = await response.json();\n                    console.error('Error fetching user info:', errorData);\n                }\n            } catch (error) {\n                console.error('Error fetching user info:', error);\n            }\n        };\n\n        getUserMoney();\n    }, [isLoggedIn]);\n\n    const handleUserDataChange = (newUserData, newCurrentName) => {\n        setUserData(newUserData);\n        setCurrentName(newCurrentName);\n    };\n\n    const [isGoogleModalOpen, setGoogleModalOpen] = useState(false);\n    useEffect(() => {\n        if (userData.username === null && userData.google_id && userData.google_email) {\n          setGoogleModalOpen(true);\n        }\n    }, [userData]);\n    \n    const toggleGoogleModal = () => {\n        setGoogleModalOpen(!isGoogleModalOpen);\n    }\n\n    return(\n        <>\n        <Header/>\n        <div className=\"overflow-y-scroll min-h-screen bg-[rgb(18,18,18,0.9)] flex justify-center w-full text-white flex-col\">\n            <div className='w-full h-[10vh]'></div>\n            <div className='h-full w-[100%] flex flex-col justify-center items-center my-6'>\n                <div className='w-[85%] flex max-[425px]:flex-col sm:ml-8 text-center items-center justify-center sm:justify-start'>\n                    <h1 className='uppercase text-2xl sm:text-4xl tracking-widest'>Welcome, {currentName}!</h1>\n                    <h1 className='uppercase text-2xl sm:text-4xl tracking-widest ml-auto mr-8 max-[425px]:hidden'>{money} ðŸ’¸</h1>   \n                    <h1 className='uppercase text-2xl sm:text-4xl tracking-widest hidden max-[425px]:flex mt-4'>YOU have: {money} ðŸ’¸</h1>\n                </div>\n                <div className='rounded-xl bg-[rgb(44,44,44,0.8)] w-[85%] min-h-[90%] flex flex-col m-4'>\n                    <div className='w-full flex flex-col sm:flex-row'>\n                        <div className='sm:w-1/2 w-full h-full flex flex-col items-center justify-center m-2 ml-0'>\n                            <ProfileUserForm onUserDataChange={handleUserDataChange} />\n                        </div>\n                        <div className='sm:w-1/2 w-full flex justify-center'>\n                            <div className='w-full flex flex-col justify-around items-center'>\n                                <ProfileAchievements/>\n                                <div className='w-[85%] sm:min-h-[45%] rounded-xl flex flex-col items-scenter bg-[rgb(26,26,26,0.9)] my-2'>\n                                    <h1 className='text-2xl sm:text-3xl tracking-widest font-light uppercase text-center my-2'>YOUR COSMETICS:</h1>\n                                    <p className='text-xl tracking-widest font-light uppercase text-center text-[rgb(175,169,158)]'>Memoria completion: 0%</p>\n                                    <ProfileBackgroundSelection/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='w-full flex justify-center'>\n                        <div className='w-[92%] h-full flex flex-col items-center justify-center m-2'>\n                            <div className='w-[100%] min-h-[90%] mb-4 rounded-xl flex flex-col items-center bg-[rgb(26,26,26,0.9)]'>\n                                <div className='w-full h-[40%] flex justify-center items-center text-center m-2'>\n                                    <h1 className='uppercase text-3xl tracking-widest my-2'>YOUR GAME HISTORY:</h1>\n                                </div>\n                                <ProfileGameHistory/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {isGoogleModalOpen && (\n                    <GoogleUserFirstTime onClose={toggleGoogleModal} email={userData.google_email} onUsernameChosen={(username) => {setCurrentName(username)}}/>\n                )}\n            </div>\n        </div>\n        </>\n    );\n}\n\nexport default ProfileInformation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}