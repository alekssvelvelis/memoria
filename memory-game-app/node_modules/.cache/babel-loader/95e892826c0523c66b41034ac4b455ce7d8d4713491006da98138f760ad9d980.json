{"ast":null,"code":"import react,{useState}from'react';import PasswordToggle from'./PasswordToggle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function GoogleUserFirstTime(_ref){let{onClose,email,onUsernameChosen}=_ref;const[errors,setErrors]=useState({});const handleSubmitForm=async e=>{e.preventDefault();const validationErrors={};const formData={profileUsername:e.target.googleUsername.value,profileEmail:email};const usernameToClear=formData.profileUsername;if(!usernameToClear){validationErrors.googleUsername='Username is required';}else if(usernameToClear.match(/^[^a-zA-Z0-9]+$/)){validationErrors.googleUsername='Username cannot contain symbols';}else if(usernameToClear.trim().length<3){validationErrors.googleUsername='Minimum length is 3 symbols';}else if(usernameToClear.trim().length>15){validationErrors.googleUsername='Maximum length is 15 symbols';}setErrors(validationErrors);if(Object.keys(validationErrors).length===0){try{console.log(formData);const isLoggedInObject=localStorage.getItem('token');const isLoggedIn=isLoggedInObject?JSON.parse(isLoggedInObject).value:null;const response=await fetch('http://localhost/api/updateUserData',{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(isLoggedIn)},body:JSON.stringify(formData)});if(!response.ok){console.log('error updating from googe login');}else{console.log('success updating google login');onUsernameChosen(formData.profileUsername);onClose();}}catch(error){console.error('Error',error);}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-screen h-screen fixed top-0 left-0 bg-black bg-opacity-40 z-40 transition-opacity duration-300 opacity-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-[3px] z-[45] text-white border-neutral-300 bg-[#181a1b] shadow-lg sm:ml-0 md:ml-0 lg:ml-0 lg:ml-0 min-h-[250px] xl:w-[500px] lg:w-[500px] md:w-[500px] sm:w-[500px] max-[425px]:w-[400px] max-[375px]:w-[350px] max-[325px]:w-[310px]  w-[400px] font-light rounded-md shadow-lg mb-4 max-[769px]:mt-[24px] mt-[48px] fixed -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-full flex flex-wrap\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-full min-h-full flex flex-col justify-center items-center\",onSubmit:handleSubmitForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[95%]\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl tracking-widest my-1\",children:\"Hey! Welcome to Memoria!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2\",children:\"Choose your username to continue:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[90%]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ml-3 text-lg uppercase tracking-widest\",htmlFor:\"googleUsername\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"focus:outline-none bg-transparent hover:scale-105 focus:scale-105 hover:border-neutral-200 focus:border-2 duration-150 border border-neutral-600 text-lg indent-2 p-1 w-full h-10 rounded-sm mb-2\",type:\"text\",id:\"googleUsername\",name:\"googleUsername\"}),errors.googleUsername&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 ml-2 text-lg\",children:errors.googleUsername})]}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 w-[75%] my-2 h-10 bg-[rgb(33,36,37)] hover:bg-[rgb(39,42,43)] hover:border-neutral-200 focus:border-2 border-neutral-600 border text-white text-2xl rounded-sm duration-500 hover:scale-105 cursor-pointer\",type:\"submit\",value:\"Submit\"})]})})})]});}export default GoogleUserFirstTime;","map":{"version":3,"names":["react","useState","PasswordToggle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GoogleUserFirstTime","_ref","onClose","email","onUsernameChosen","errors","setErrors","handleSubmitForm","e","preventDefault","validationErrors","formData","profileUsername","target","googleUsername","value","profileEmail","usernameToClear","match","trim","length","Object","keys","console","log","isLoggedInObject","localStorage","getItem","isLoggedIn","JSON","parse","response","fetch","method","headers","concat","body","stringify","ok","error","children","className","onSubmit","htmlFor","type","id","name"],"sources":["/Users/alekssvelvelis/Desktop/memory-game/src/components/GoogleUserFirstTime.jsx"],"sourcesContent":["import react, { useState } from 'react';\nimport PasswordToggle from './PasswordToggle';\nfunction GoogleUserFirstTime({ onClose, email, onUsernameChosen }) {\n    const [errors, setErrors] = useState({});\n\n    const handleSubmitForm = async (e) => {\n        e.preventDefault();\n\n        const validationErrors = {};\n\n        const formData = {\n            profileUsername : e.target.googleUsername.value,\n            profileEmail : email,\n        }\n\n        const usernameToClear = formData.profileUsername;\n        if (!usernameToClear) {\n            validationErrors.googleUsername = 'Username is required';\n        } else if (usernameToClear.match(/^[^a-zA-Z0-9]+$/)){\n            validationErrors.googleUsername = 'Username cannot contain symbols';\n        } else if(usernameToClear.trim().length < 3){\n            validationErrors.googleUsername = 'Minimum length is 3 symbols';\n        } else if(usernameToClear.trim().length > 15){\n            validationErrors.googleUsername = 'Maximum length is 15 symbols';\n        }\n        setErrors(validationErrors);\n\n        if (Object.keys(validationErrors).length === 0) {\n            try {\n                console.log(formData);\n                const isLoggedInObject = localStorage.getItem('token');\n                const isLoggedIn = isLoggedInObject ? JSON.parse(isLoggedInObject).value : null;\n                const response = await fetch('http://localhost/api/updateUserData', {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${isLoggedIn}`\n                    },\n                    body: JSON.stringify(formData)\n                });\n                if(!response.ok){\n                    console.log('error updating from googe login');\n                }else{\n                    console.log('success updating google login');\n                    onUsernameChosen(formData.profileUsername);\n                    onClose();\n                }\n            } catch (error) {\n                console.error('Error', error);\n            }\n        }\n    }\n    return (\n        <>\n        <div className={`w-screen h-screen fixed top-0 left-0 bg-black bg-opacity-40 z-40 transition-opacity duration-300 opacity-100`}></div>\n        <div className={`border-[3px] z-[45] text-white border-neutral-300 bg-[#181a1b] shadow-lg sm:ml-0 md:ml-0 lg:ml-0 lg:ml-0 min-h-[250px] xl:w-[500px] lg:w-[500px] md:w-[500px] sm:w-[500px] max-[425px]:w-[400px] max-[375px]:w-[350px] max-[325px]:w-[310px]  w-[400px] font-light rounded-md shadow-lg mb-4 max-[769px]:mt-[24px] mt-[48px] fixed -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2`}>\n            <div className='w-full min-h-full flex flex-wrap'>\n                <form className='w-full min-h-full flex flex-col justify-center items-center' onSubmit={handleSubmitForm}>\n                    <div className='w-[95%]'>\n                        <h1 className='text-3xl tracking-widest my-1'>Hey! Welcome to Memoria!</h1>\n                        <p className='font-light text-lg uppercase text-[rgb(175,169,158)] mb-4 mt-2'>Choose your username to continue:</p>\n                    </div>\n                    <div className='w-[90%]'>\n                        <label className='ml-3 text-lg uppercase tracking-widest' htmlFor='googleUsername'>Username:</label>\n                        <input className='focus:outline-none bg-transparent hover:scale-105 focus:scale-105 hover:border-neutral-200 focus:border-2 duration-150 border border-neutral-600 text-lg indent-2 p-1 w-full h-10 rounded-sm mb-2' type='text' id='googleUsername' name='googleUsername'/>\n                        {errors.googleUsername && (<p className='text-red-500 ml-2 text-lg'>{errors.googleUsername}</p>)}\n                    </div>\n                    <input className='mt-4 w-[75%] my-2 h-10 bg-[rgb(33,36,37)] hover:bg-[rgb(39,42,43)] hover:border-neutral-200 focus:border-2 border-neutral-600 border text-white text-2xl rounded-sm duration-500 hover:scale-105 cursor-pointer' type='submit' value='Submit' />\n                </form>\n            </div>\n        </div>\n        </>\n    );  \n}\n\nexport default GoogleUserFirstTime;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}